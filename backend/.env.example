# =============================================================================
# MyRoom Backend API Configuration
# =============================================================================

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost
API_PREFIX=/api

# Database Configuration
DATABASE_URL="postgresql://myroom_user:myroom_password@localhost:5432/myroom_db?schema=public"

# Redis Configuration
REDIS_URL="redis://localhost:6379"

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# AWS S3 Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=myroom-resources-bucket
AWS_CLOUDFRONT_DOMAIN=your-cloudfront-domain.cloudfront.net
# Optional: For local development with MinIO
# AWS_S3_ENDPOINT=http://localhost:9000
# AWS_S3_FORCE_PATH_STYLE=true

# Security & CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true
TRUST_PROXY=false

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=50mb
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,model/gltf-binary,application/octet-stream,application/json

# Security Configuration
BCRYPT_ROUNDS=12
API_KEY_LENGTH=32

# Email Configuration (Optional - for user verification)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@myroom.com
FROM_NAME=MyRoom Platform

# Logging Configuration
LOG_LEVEL=info
LOG_DIR=logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Cache Configuration (Redis TTL in seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_API_KEY=300
CACHE_TTL_DEVELOPER=60
CACHE_TTL_RESOURCE=3600
CACHE_TTL_PERMISSION=300

# Pagination Configuration
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# Feature Flags
FEATURE_RATE_LIMITING=true
FEATURE_REQUEST_LOGGING=true
FEATURE_SWAGGER=true
FEATURE_WEBHOOKS=false
FEATURE_EMAIL_VERIFICATION=false

# Development Configuration
DEBUG=myroom:*
SWAGGER_ENABLED=true

# Production Configuration
SECURE_COOKIES=false
HTTPS_ONLY=false

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# Redis Connection Configuration
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_RETRY_ATTEMPTS=3

# S3 Configuration
S3_UPLOAD_TIMEOUT=30000
S3_DOWNLOAD_TIMEOUT=30000
S3_PRESIGNED_URL_EXPIRES=3600

# API Key Configuration
API_KEY_EXPIRES_DAYS=365
API_KEY_PREFIX=mk_

# JWT Blacklist Configuration
JWT_BLACKLIST_CLEANUP_INTERVAL=3600000

# Request Timeout Configuration
REQUEST_TIMEOUT=30000

# Webhook Configuration (if enabled)
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=1000

# Monitoring Configuration
METRICS_ENABLED=false
METRICS_PORT=9090
METRICS_PATH=/metrics